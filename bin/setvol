#!/usr/bin/env bash

for i in $@
do
  case $i in 
    mute|unmute|toggle)
      vol=$i
      ;;
    up|higher)
      vol="10+"
      ;;
    down|lower)
      vol="10-"
      ;;
    *)
      regex='^[0-9]{1,3}[-+%]*$'
      if [[ "$i" =~ $regex ]]
      then
        vol=$i
      else
        host=$i
      fi
      ;;
  esac
done

string="Setting volume to $vol"
cmd="amixer set Master $vol > /dev/null"
if [ $host ]
then
  string+=" on $host"
  cmd="ssh $host $cmd"
fi

echo $string

$cmd
